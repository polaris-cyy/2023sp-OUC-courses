- 3.5
  - 序列合法当且仅当
    - S与X的个数相等
    - 前i个元素中S的个数大于等于X的个数，i=1, 2, $\dots$, n, n为序列长度
  - 反证，设存在不相同的序列$L_1$和$L_2$， 它们的输出元素序列相同，它们的最长公共前缀后第一个操作不相同，显然之后会得到不相同的输出元素序列。
- 3.6
  - 设$S_m$为m入栈，$X_m$为m出栈，则题目描述情况等价于序列$S_jS_kS_iX_iX_jX_k$为有效下标匹配（类似于括号匹配）。显然这个序列不是有效匹配，因此结论不成立。